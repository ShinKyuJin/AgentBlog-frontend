(this.webpackJsonpagentsblog=this.webpackJsonpagentsblog||[]).push([[10],{114:function(n,e,t){"use strict";var r=t(4),a=t(0),c=t.n(a),i=t(5),o=t(12);function u(){var n=Object(r.a)(["\n  @media (max-width: 768px) {\n    height: 1.5rem;\n    font-size: 0.75rem;\n    padding-left: 0.75rem;\n    padding-right: 0.75rem;\n    margin-right: 0.5rem;\n    margin-bottom: 0.5rem;\n    border-radius: 0.75rem;\n  }\n  display: inline-flex;\n  align-items: center;\n  height: 2rem;\n  padding: 0px 1rem;\n  margin-bottom: 0.875rem;\n  background-color: rgb(241, 243, 245);\n\n  color: rgb(12, 166, 120);\n  text-decoration: none;\n  font-weight: 500;\n  font-size: 1rem;\n  border-radius: 1rem;\n\n  & + & {\n    margin-left: 10px;\n  }\n\n  transition: background-color 0.08s ease-out 0s;\n  &:hover {\n    background-color: rgb(249, 249, 250);\n  }\n"]);return u=function(){return n},n}var l=Object(i.c)(o.b)(u());e.a=c.a.memo((function(n){var e=n.name,t=n.isLink,r=void 0===t||t,a=n.onClick;return r?c.a.createElement(l,{to:"/tags/".concat(e)},e):c.a.createElement(l,{to:"/tags/".concat(e),onClick:function(n){n.preventDefault(),a&&a(n)}},e)}))},123:function(n,e,t){"use strict";var r=t(4),a=t(0),c=t.n(a),i=t(5),o=t(132),u=t.n(o);function l(){var n=Object(r.a)([""]);return l=function(){return n},n}var s=function(n){return c.a.createElement("span",{style:{background:"#ff0"}},n.value)},f=function(n){return c.a.createElement("div",{style:{backgroundColor:"rgb(248,249,250)",padding:"1rem 1rem 1rem 2rem",margin:5,borderLeft:"4px solid rgb(32, 201, 151)"}},n.children)},d=function(n){return c.a.createElement("pre",{style:{background:"rgb(248,249,250)",color:"#000",padding:10}},c.a.createElement("code",null,n.value))},m=i.c.div(l());e.a=c.a.memo((function(n){var e=n.source;return c.a.createElement(m,null,c.a.createElement(u.a,{source:e.replace(/\n/g,"  \n"),renderers:{code:d,InlineCodeBlock:s,blockquote:f},skipHtml:!1,escapeHtml:!1}))}))},257:function(n,e,t){"use strict";t.r(e);var r=t(48),a=t.n(r),c=t(58),i=t(249),o=t(11),u=t(0),l=t.n(u),s=t(16),f=t(4),d=t(13);function m(){var n=Object(f.a)(["\n  mutation posting(\n    $title: String!,\n    $hashtags: [String!],\n    $content: String!,\n    $series_id: String,\n    $thumbnail: String,\n    $url: String!,\n    $files: [String!]\n  ) {\n    posting(\n    title: $title,\n    hashtags: $hashtags,\n    content: $content,\n    series_id: $series_id,\n    thumbnail: $thumbnail,\n    url: $url,\n    files: $files\n  ) {\n    url\n    user {\n      username\n    }\n  }\n}\n"]);return m=function(){return n},n}var b=Object(d.b)(m()),g=t(109),h=t(62),p=t(230),v=t.n(p),x=t(5),j=t(119),O=t(114),k=t(28),E=t(12),w=t(123),C=t(46),y=t(248);function S(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return S=function(){return n},n}function $(){var n=Object(f.a)(["\n  border: 1px solid black;\n"]);return $=function(){return n},n}function z(){var n=Object(f.a)([""]);return z=function(){return n},n}var I=x.c.div(z()),B=x.c.div($()),F=x.c.div(S()),H=function(n){var e=n.onUpload,t=Object(y.a)({accept:"image/*",onDrop:function(n){n.forEach((function(n){e(n)}))}}),r=t.getRootProps,a=t.getInputProps,c=t.isDragActive;return l.a.createElement(B,r(),l.a.createElement("input",a()),c?l.a.createElement(I,null,"\ub4dc\ub798\uadf8\ud574\uc11c \uc0ac\uc9c4\uc744 \uc62c\ub9ac\uc138\uc694! "):l.a.createElement(F,null,"\uc0ac\uc9c4\uc744 \uc5ec\uae30\uc5d0 \ub194\uc8fc\uc138\uc694 "))};function M(){var n=Object(f.a)(["\n  width: 4rem;\n  height: 0.5rem;\n  background: rgb(52, 58, 64);\n  margin: 1rem 0rem;\n"]);return M=function(){return n},n}function U(){var n=Object(f.a)(["\n  height: 100%;\n  width: 50%;\n  @media (max-width: 1024px) {\n    display: none;\n  }\n"]);return U=function(){return n},n}function _(){var n=Object(f.a)(["\n  height: 30px;\n"]);return _=function(){return n},n}function D(){var n=Object(f.a)(["\n  margin-left: 0.8rem;\n"]);return D=function(){return n},n}function P(){var n=Object(f.a)(["\n  width: 7rem;\n  height: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.125rem;\n  border-radius: 4px;\n  background-color: inherit;\n\n  transition: background-color 0.05s;\n  &:hover {\n    background-color: rgb(240, 240, 240);\n  }\n"]);return P=function(){return n},n}function L(){var n=Object(f.a)(["\n  font-size: 1.125rem;\n  height: 2.5rem;\n  width: 10rem;\n  font-weight: bold;\n"]);return L=function(){return n},n}function J(){var n=Object(f.a)(["\n  box-shadow: rgba(0, 0, 0, 0.04) 0px -4px 16px 0px;\n  margin: 0 -30px -30px -30px;\n  padding: 10px;\n  display: flex;\n  align-content: center;\n  justify-content: space-between;\n"]);return J=function(){return n},n}function R(){var n=Object(f.a)(["\n  width: 100%;\n  margin-top: 15px;\n  height: 100%;\n  font-size: 1.125rem;\n  resize: none;\n  padding: 0;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return R=function(){return n},n}function T(){var n=Object(f.a)(["\n  margin: 10px 0;\n  display: flex;\n  flex-wrap: wrap;\n"]);return T=function(){return n},n}function q(){var n=Object(f.a)(["\n  min-width: 12rem;\n  padding: 0;\n  margin-left: 1rem;\n  height: 40px;\n  font-size: 24px;\n  font-weight: 500;\n  padding: 0;\n  border: none;\n\n  &:focus {\n    outline: none;\n  }\n"]);return q=function(){return n},n}function A(){var n=Object(f.a)(["\n  width: 100%;\n  height: 70px;\n  font-size: 40px;\n  padding: 0;\n  border: none;\n  font-weight: 650;\n\n  &:focus {\n    outline: none;\n  }\n"]);return A=function(){return n},n}function K(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  height: 100%;\n  padding: 2rem 3rem;\n\n  @media (max-width: 1024px) {\n    width: 100%;\n  }\n"]);return K=function(){return n},n}function G(){var n=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  height: calc(100% - 0px);\n  flex-wrap: no-wrap;\n"]);return G=function(){return n},n}var N=x.c.div(G()),Q=x.c.div(K()),V=x.c.input(A()),W=x.c.input(q()),X=x.c.div(T()),Y=x.c.textarea(R()),Z=x.c.div(J()),nn=Object(x.c)(k.a)(L()),en=Object(x.c)(E.b)(P()),tn=x.c.div(D()),rn=x.c.div(_()),an=x.c.div(U()),cn=x.c.div(M()),on=function(n){n.form;var e=n.title,t=n.hashtag,r=n.hashtags,a=n.content,c=n.handleChangeText,i=n.handleChangeHashtags,o=n.handleSubmit,u=n.handleClickHashtag,f=n.onUpload,d=n.textareaEl,m=l.a.useCallback((function(){return s.b.dark("\ud0dc\uadf8\ub97c \uc785\ub825\ud55c \ub4a4 \uc5d4\ud130\ub97c \ub204\ub974\uc2dc\uba74 \ub4f1\ub85d\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub4f1\ub85d\ub41c \ud0dc\uadf8\ub294 \ud074\ub9ad\ud558\uba74 \uc0ad\uc81c\ub429\ub2c8\ub2e4.",{position:"top-center",hideProgressBar:!0,autoClose:!1,toastId:"tagInfo"})}),[]),b=l.a.useCallback((function(){return s.b.dismiss("tagInfo")}),[]),g=l.a.useMemo((function(){return l.a.createElement(X,null,r.map((function(n){return l.a.createElement(O.a,{key:n,name:n,isLink:!1,onClick:u})})),l.a.createElement(W,{value:t,onChange:c,onKeyPress:i,onFocus:m,onBlur:b,placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",name:"hashtag",tabIndex:1}))}),[r,t,u]),h=l.a.useMemo((function(){return{FocusBar:l.a.createElement(cn,null),ExitButton:l.a.createElement(en,{to:"/"},l.a.createElement(C.a,{type:"back",size:16}),l.a.createElement(tn,null,"\ub098\uac00\uae30 ")),FileUploader:l.a.createElement(rn,null,l.a.createElement(H,{onUpload:f}))}}),[]);return l.a.createElement(N,null,l.a.createElement(j.a,null,e.length>0?l.a.createElement("title",null,"(\uc791\uc131\uc911) ",e):l.a.createElement("title",null,"\uae00 \uc791\uc131")),l.a.createElement(Q,null,l.a.useMemo((function(){return l.a.createElement(V,{value:e,onChange:c,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",name:"title",tabIndex:0})}),[e]),h.FocusBar,g,h.FileUploader,l.a.useMemo((function(){return l.a.createElement(Y,{value:a,onChange:c,ref:d,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",name:"content",tabIndex:2})}),[a]),l.a.createElement(Z,null,h.ExitButton,l.a.useMemo((function(){return l.a.createElement(nn,{text:"\ucd9c\uac04\ud558\uae30",onClick:o})}),[o]))),l.a.useMemo((function(){return l.a.createElement(an,null,l.a.createElement("h1",null,e),l.a.createElement(w.a,{source:"".concat(a)}))}),[e,a]))},un=function(){var n=Object(u.useState)({series_id:"",thumbnail:"",url:"",files:[]}),e=Object(o.a)(n,2),t=e[0],r=(e[1],Object(u.useState)("")),f=Object(o.a)(r,2),d=f[0],m=f[1],p=Object(u.useState)(""),x=Object(o.a)(p,2),j=x[0],O=x[1],k=Object(u.useState)([]),E=Object(o.a)(k,2),w=E[0],C=E[1],y=Object(u.useState)(""),S=Object(o.a)(y,2),$=S[0],z=S[1],I=Object(u.useRef)(null),B=Object(u.useCallback)((function(n){"title"===n.target.name&&m(n.target.value),"hashtag"===n.target.name&&O(n.target.value),"content"===n.target.name&&z(n.target.value)}),[]),F=Object(u.useCallback)((function(n){if("Enter"===n.key){if(w.find((function(n){return n===j})))return s.b.warning("\uc774\ubbf8 \uc788\ub294 \ud574\uc2dc\ud0dc\uadf8\uc785\ub2c8\ub2e4.");""!==j.trim()?(O(""),C([].concat(Object(i.a)(w),[j]))):s.b.error("\ud574\uc2dc\ud0dc\uadf8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!")}}),[j,w]),H=Object(g.a)(b,{variables:{title:d,hashtags:w,content:$,series_id:t.series_id,thumbnail:t.thumbnail,url:d,files:t.files}}),M=Object(o.a)(H,1)[0],U=Object(u.useCallback)(function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),""!==d&&""!==$){n.next=5;break}s.b.error("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \ube44\uc6b0\uc9c0 \ub9d0\uc544\uc8fc\uc138\uc694!"),n.next=17;break;case 5:return n.prev=5,n.next=8,M();case 8:t=n.sent,(r=t.data.posting)?(s.b.success("\uae00 \uc791\uc131\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4."),window.location.href="/@".concat(r.user.username,"/").concat(r.url)):s.b.error("\uae00 \uc791\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0),s.b.error("\uc694\uccad\uc744 \uc644\ub8cc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 17:case"end":return n.stop()}}),n,null,[[5,13]])})));return function(e){return n.apply(this,arguments)}}(),[d,$,M]),_=Object(u.useCallback)((function(n){return C(w.filter((function(e){return e!==n.target.textContent})))}),[w]),D=Object(u.useCallback)(function(){var n=Object(c.a)(a.a.mark((function n(e){var t,r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("file",e,e.originalname),n.prev=2,n.next=5,v.a.post(h.b+"/api/upload",t,{headers:{"content-type":"multipart/form-data"}});case 5:r=n.sent,c=r.data,z($.concat("\n![](".concat(c.location,")"))),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(2),s.b.error("\ud30c\uc77c \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."+n.t0),n.abrupt("return",null);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}(),[$]);return l.a.createElement(on,{form:t,title:d,hashtag:j,hashtags:w,content:$,handleChangeText:B,handleChangeHashtags:F,handleSubmit:U,handleClickHashtag:_,onUpload:D,textareaEl:I})};e.default=un}}]);
//# sourceMappingURL=10.513b6135.chunk.js.map